\documentclass[a4paper,12pt]{article} % screen setting

\usepackage[a4paper]{geometry}
\geometry{verbose,tmargin=1.5cm,bmargin=1.5cm,lmargin=1.5cm,rmargin=1.5cm}

\setlength{\parskip}{\smallskipamount}
\setlength{\parindent}{0pt}

%\usepackage{cmbright}
%\renewcommand{\familydefault}{\sfdefault}

%\usepackage{fontspec}
\usepackage[libertine]{newtxmath}
\usepackage[no-math]{fontspec}
\setmainfont{Linux Libertine O}
%\setmonofont{DejaVu Sans Mono}

\usepackage{hyperref}
\usepackage{url}
\usepackage{xcolor}

\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{graphicx}
\usepackage{float}

\usepackage{minted}

\newminted{julia}{breaklines,fontsize=\footnotesize}
\newminted{python}{breaklines,fontsize=\footnotesize}

\newminted{bash}{breaklines,fontsize=\footnotesize}
\newminted{text}{breaklines,fontsize=\footnotesize}

\newcommand{\txtinline}[1]{\mintinline[breaklines,fontsize=\footnotesize]{text}{#1}}
\newcommand{\jlinline}[1]{\mintinline[breaklines,fontsize=\footnotesize]{julia}{#1}}
\newcommand{\pyinline}[1]{\mintinline[breaklines,fontsize=\footnotesize]{python}{#1}}

\newmintedfile[juliafile]{julia}{breaklines,fontsize=\footnotesize}
\newmintedfile[pythonfile]{python}{breaklines,fontsize=\footnotesize}

\definecolor{mintedbg}{rgb}{0.90,0.90,0.90}
\usepackage{mdframed}
\BeforeBeginEnvironment{minted}{
    \begin{mdframed}[backgroundcolor=mintedbg,%
        topline=false,bottomline=false,%
        leftline=false,rightline=false]
}
\AfterEndEnvironment{minted}{\end{mdframed}}


\usepackage{setspace}

\onehalfspacing

\usepackage{appendix}


\newcommand{\highlighteq}[1]{\colorbox{blue!25}{$\displaystyle#1$}}
\newcommand{\highlight}[1]{\colorbox{red!25}{#1}}



\begin{document}


\title{TorchANI Worknotes}
\author{Fadjar Fathurrahman}
\date{}
\maketitle

\section{Installation}

Prerequisites: PyTorch

Recommendation: install to user directory.

The usual steps are applicable:
\begin{itemize}
\item \txtinline{python setup.py build}
\item \txtinline{python setup.py install --user}
\end{itemize}

TorchANI will be installed at (for example, the version number
may vary):
\begin{textcode}
$HOME/.local/lib/python3.8/site-packages/torchani-2.1.2-py3.8.egg/
\end{textcode}

To check the installation, go to directory examples and run the
\txtinline{energy_force.py} example.
TorchANI will download the necessary files (paramaters for the neural network)
so the script might run slowly in the first call.
The parameters will be put under the \txtinline{resources} subdirectory of TorchANI.

There is warning when using Torch v-1.6:
\begin{textcode}
/home/efefer/.local/lib/python3.8/site-packages/torchani-2.1.2.dev12+g42442af-py3.8.egg/torchani/aev.py:195: UserWarning: This overload of nonzero is deprecated:
	nonzero()
Consider using one of the following signatures instead:
	nonzero(*, bool as_tuple) (Triggered internally at  /opt/conda/conda-bld/pytorch_1595629395347/work/torch/csrc/utils/python_arg_parser.cpp:766.)
in_cutoff = (distances <= cutoff).nonzero()
\end{textcode}

The fix seems to be:
\begin{pythoncode}
in_cutoff = torch.nonzero(distances <= cutoff, as_tuple=False)
\end{pythoncode}





\bibliographystyle{unsrt}
\bibliography{BIBLIO}

\end{document}
